<?xml version="1.0" encoding="UTF-8"?>
<protocol name="org_kde_plasma_virtual_desktop">
  <copyright><![CDATA[
    Copyright (C) 2018 Marco Martin

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU Lesser General Public License as published by
    the Free Software Foundation, either version 2.1 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Lesser General Public License for more details.

    You should have received a copy of the GNU Lesser General Public License
    along with this program.  If not, see <http://www.gnu.org/licenses/>.
  ]]></copyright>

<interface name="org_kde_plasma_virtual_desktop_management" version="1">
    <request name="get_virtual_desktop">
        <description summary="get the org_kde_plasma_virtual_desktop interface for a desktop">
            Given the id of a particular virtual desktop, get the corresponding org_kde_plasma_virtual_desktop which represents only the desktop with that id;
        </description>
        <arg name="id" type="new_id" interface="org_kde_plasma_virtual_desktop"/>
        <arg name="desktop_id" type="string" summary="Unique id of the desktop"/>
    </request>

    <event name="desktop_added">
        <description summary="Emitted when a new desktop has been added"></description>
        <arg name="desktop_id" type="string" summary="Unique id of the desktop"/>
        <arg name="position" type="uint" summary="Position of this desktop, to ensure the client and the server will see desktops in the same order"/>
    </event>

    <!--TODO: maybe the removed signal of the desktop object is enough?-->
    <event name="desktop_removed">
        <description summary="Emitted when a desktop has been removed"></description>
        <arg name="desktop_id" type="string" summary="Unique id of the desktop"/>
    </event>

    <event name="done">
        <description summary="sent all information about desktops">
            This event is sent after all other properties has been
            sent after binding to the desktop manager object and after any
            other property changes done after that. This allows
            changes to the org_kde_plasma_virtual_desktop_management properties to be seen as
            atomic, even if they happen via multiple events.
        </description>
    </event>
</interface>


<interface name="org_kde_plasma_virtual_desktop"  version="1">
    <request name="request_activate">
        <description summary="Requests this desktop to be activated"/>
    </request>

    <event name="desktop_id">
        <description summary="The desktop got an id">
            The format of the id is decided by the compositor implementation.
        </description>
        <arg name="desktop_id" type="string" summary="Unique id of the desktop"/>
    </event>

    <event name="name">
        <arg name="name" type="string" summary="User readable descriptive name for the desktop"/>
    </event>

    <event name="activated">
    </event>

    <event name="deactivated">
    </event>

    <event name="done">
        <description summary="sent all information about desktops">
            This event is sent after all other properties has been
            sent after binding to the desktop object and after any
            other property changes done after that. This allows
            changes to the org_kde_plasma_virtual_desktop properties to be seen as
            atomic, even if they happen via multiple events.
        </description>
    </event>

    <event name="removed">
        <description summary="This desktop has been removed">
            This virtual desktop has just been removed by the server:
            All windows will lose the association to this desktop.
        </description>
    </event>
</interface>

</protocol>
